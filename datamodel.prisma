type Product {
 id: ID! @id
 name: String!
 price: Float!
 stock: Int!
 status: ProductStatus! @default(value: IN_STOCK)
 user: User! @relation(onDelete: CASCADE)
 createdAt: DateTime! @createdAt
 updatedAt: DateTime! @updatedAt
}

enum ProductStatus {
  OUT_OF_STOCK
  BANNED
  IN_STOCK
}

type Order{
 id: ID! @id
 total_price: Float!
 status: OrderStatus! @default(value: PENDING)
 user: User! @relation(onDelete: CASCADE)
 products: [Product!]!
 createdAt: DateTime! @createdAt
 updatedAt: DateTime! @updatedAt
}

enum OrderStatus {
  DONE
  PENDING
  CANCELLED
}

type Address {
 id: ID! @id
 city: String!
 country: String!
 state: String!
 Postal_code: String!
 createdAt: DateTime! @createdAt
 updatedAt: DateTime! @updatedAt
}

type Validation_Product{
  id: ID! @id
  reviewer: User!
  product: Product! @relation(onDelete: CASCADE)
  status: ValidationStatus! @default(value: PENDING)
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}
enum ValidationStatus {
  REJECTED
  ACCEPTED
  PENDING
}

type User {
  id: ID! @id
  name: String!
  address: [Address!]!
  status: UserStatus! @default(value: FINE)
  roles: Role! @default(value: USER)
  orders: [Order!]! 
  productsOwned: [Product!]! 
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}
enum Role {
  USER
  ADMIN
}

enum UserStatus {
  BANNED
  SUSPENDED
  FINE
}
